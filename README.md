# DiabetesPredictionML

[![CCDS Project template](https://img.shields.io/badge/CCDS-Project%20template-328F97?logo=cookiecutter)](https://cookiecutter-data-science.drivendata.org/)

A simple FastAPI application that predicts diabetes risk using logistic regression based on clinical data features.

## What This Project Does

This project provides a machine learning microservice built with FastAPI that predicts the likelihood of diabetes from patient health data. The model is trained on a selected subset of features from a diabetes dataset, and the API exposes an endpoint to get predictions for new input data.

The project follows 12-Factor App principles, includes Docker support, automated testing, CI/CD workflows, and detailed documentation generated by MkDocs.

## Features

- **Machine Learning Model**: Logistic regression classifier trained on clinical features
- **REST API**: FastAPI endpoints for model predictions
- **Docker Support**: Containerization for consistent deployment
- **Automated Testing**: Unit and integration tests
- **Continuous Integration**: GitHub Actions workflow
- **Documentation**: Comprehensive docs with MkDocs

## Quick Start

### Installation

```bash
# Clone the repository
git clone https://github.com/yourusername/DiabetesPredictionML.git
cd DiabetesPredictionML

# Create and activate a virtual environment
python -m venv env
source env/bin/activate  # On Windows: env\Scripts\activate

# Install dependencies
pip install -r requirements.txt
```

### Running the API

```bash
# Start the FastAPI server
uvicorn app.main:app --reload
```

Visit http://localhost:8000/docs to access the Swagger UI documentation.

### Using Docker

```bash
# Build the Docker image
docker build -t diabetes-prediction-ml .

# Run the container
docker run -p 8000:8000 diabetes-prediction-ml
```

## Project Structure

```
DiabetesPredictionML/
├── .github/                      # GitHub Actions workflows
│   └── workflows/
│       └── ci-cd.yml                # CI pipeline configuration
├── app/                          # Main application code
│   ├── api/                      # API endpoints
│   ├── core/                     # Core functionality
│   ├── models/                   # ML model definitions
│   └── main.py                   # FastAPI application entry point
├── data/                         # Data directory
│   ├── processed/                # Processed data
│   └── raw/                      # Raw data
├── docs/                         # Documentation files for MkDocs
├── models/                       # Saved models
├── notebooks/                    # Jupyter notebooks
├── tests/                        # Test files
├── .dockerignore                 # Docker ignore file
├── .gitignore                    # Git ignore file
├── Dockerfile                    # Docker configuration
├── LICENSE                       # License file
├── Makefile                      # Makefile for common commands
├── README.md                     # This file
├── mkdocs.yml                    # MkDocs configuration
└── requirements.txt              # Python dependencies
```

## API Documentation

The API provides the following endpoints:

- `POST /predict`: Predict diabetes risk for input data

Example request to the prediction endpoint:

```bash
curl -X POST "http://localhost:8000/predict" \
     -H "Content-Type: application/json" \
     -d '{
           "age": 50,
           "bmi": 32.1,
           "glucose": 148,
           "blood_pressure": 72,
           "insulin": 0,
           "skin_thickness": 35,
           "pregnancies": 0,
           "diabetes_pedigree": 0.627
         }'
```

## Development

### Running Tests

```bash
# Run all tests
pytest

# Run tests with coverage report
pytest --cov=app tests/
```

### Documentation

To build and serve the documentation locally:

```bash
mkdocs serve
```

Visit http://localhost:8000 to view the documentation.

## License

This project is licensed under the MIT License - see the LICENSE file for details.

## Contributing

1. Fork the repository
2. Create a feature branch: `git checkout -b feature-name`
3. Commit changes: `git commit -am 'Add feature'`
4. Push to the branch: `git push origin feature-name`
5. Submit a pull request

## Acknowledgments

- Dataset source: [Original dataset attribution]
- Built with [FastAPI](https://fastapi.tiangolo.com/)
- Project structure based on [Cookiecutter Data Science](https://drivendata.github.io/cookiecutter-data-science/)
